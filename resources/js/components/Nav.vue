<template>
  <b-container fluid>
    <!--User not logged in-->
    <b-row v-if="!$store.state.user.status">
      <b-col cols="10" align-self="center">
        <router-link to="/">
          <svg
            width="114"
            height="41"
            viewBox="0 0 114 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20.5" cy="20.5" r="20.5" fill="#B1D8BC" fill-opacity="0.4" />
            <path
              d="M22.28 20.12C24.94 20.06 25.94 18 25.94 15.94C25.94 13.8 24.92 11.72 22.12 11.72H17V25.5H18.34V20.12H20.66L24.46 25.5H26.08L22.28 20.12ZM22.12 13.04C23.96 13.04 24.62 14.48 24.62 15.94C24.62 17.4 23.96 18.8 22.02 18.8H18.34V13.04H22.12ZM32.4383 25.7C34.3383 25.7 35.9183 24.74 36.6983 23.06C36.2783 22.96 35.7583 22.86 35.3583 22.76C34.7783 23.78 33.7183 24.38 32.4383 24.38C30.7183 24.38 29.2983 23.24 29.0783 21.42H36.9983C37.0183 21.24 37.0183 21.02 37.0183 20.8C37.0183 17.84 35.0983 15.96 32.4383 15.96C29.7783 15.96 27.7183 17.84 27.7183 20.8C27.7183 23.76 29.7783 25.7 32.4383 25.7ZM29.0783 20.18C29.3383 18.4 30.6783 17.28 32.4383 17.28C34.1783 17.28 35.3983 18.4 35.6583 20.18H29.0783ZM46.1511 23.48C45.4911 24.08 44.6711 24.38 43.7311 24.38C41.7911 24.38 40.1711 22.96 40.1711 20.8C40.1711 18.64 41.7911 17.28 43.7311 17.28C44.6711 17.28 45.5111 17.6 46.1511 18.16L47.0911 17.22C46.2111 16.42 45.0311 15.96 43.7311 15.96C41.0711 15.96 38.8511 17.84 38.8511 20.8C38.8511 23.76 41.0711 25.7 43.7311 25.7C45.0311 25.7 46.2311 25.24 47.1111 24.42L46.1511 23.48ZM50.8892 16.16H49.5692V25.5H50.8892V16.16ZM49.2292 12.68C49.2292 13.24 49.6892 13.64 50.2492 13.64C50.8092 13.64 51.2692 13.24 51.2692 12.68C51.2692 12.12 50.8092 11.72 50.2492 11.72C49.6892 11.72 49.2292 12.12 49.2292 12.68ZM54.12 30.02H55.46V23.98C56.16 25.18 57.6 25.7 58.98 25.7C61.64 25.7 63.76 23.84 63.76 20.88C63.76 17.92 61.64 15.96 58.98 15.96C57.62 15.96 56.16 16.6 55.46 17.78V16.16H54.12V30.02ZM62.42 20.88C62.42 23.04 60.92 24.36 58.98 24.36C57.3 24.36 55.46 23.18 55.46 20.88C55.46 18.58 57.06 17.3 58.98 17.3C60.92 17.3 62.42 18.8 62.42 20.88ZM70.4461 25.7C72.3461 25.7 73.9261 24.74 74.7061 23.06C74.2861 22.96 73.7661 22.86 73.3661 22.76C72.7861 23.78 71.7261 24.38 70.4461 24.38C68.7261 24.38 67.3061 23.24 67.0861 21.42H75.0061C75.0261 21.24 75.0261 21.02 75.0261 20.8C75.0261 17.84 73.1061 15.96 70.4461 15.96C67.7861 15.96 65.7261 17.84 65.7261 20.8C65.7261 23.76 67.7861 25.7 70.4461 25.7ZM67.0861 20.18C67.3461 18.4 68.6861 17.28 70.4461 17.28C72.1861 17.28 73.4061 18.4 73.6661 20.18H67.0861Z"
              fill="#333333"
            />
            <path
              d="M76.9 26.14L76.72 26L78.26 18.64C78.38 18.12 78.1933 17.7467 77.7 17.52L77.36 17.36L77.38 17.16L81.1 16.06L81.28 16.22L80.82 18.64C81.5133 17.8533 82.22 17.2333 82.94 16.78C83.66 16.3133 84.34 16.08 84.98 16.08C85.4067 16.08 85.76 16.2133 86.04 16.48C86.32 16.7333 86.46 17.1333 86.46 17.68C86.46 17.96 86.4333 18.2533 86.38 18.56C86.3267 18.8533 86.26 19.16 86.18 19.48L85.12 23.74C85.0667 23.9533 85.0267 24.1333 85 24.28C84.9733 24.4133 84.96 24.5333 84.96 24.64C84.96 24.92 85.0733 25.06 85.3 25.06C85.6733 25.06 86.1467 24.76 86.72 24.16L86.92 24.36C86.5867 24.8533 86.1467 25.3 85.6 25.7C85.0533 26.1 84.4467 26.3 83.78 26.3C83.34 26.3 83 26.2 82.76 26C82.52 25.7867 82.4 25.4933 82.4 25.12C82.4 24.84 82.4333 24.5533 82.5 24.26C82.5667 23.9533 82.64 23.64 82.72 23.32L83.5 20.2C83.6067 19.7733 83.6933 19.3933 83.76 19.06C83.8267 18.7267 83.86 18.42 83.86 18.14C83.86 17.9 83.8067 17.7333 83.7 17.64C83.5933 17.5333 83.4467 17.48 83.26 17.48C82.94 17.48 82.56 17.62 82.12 17.9C81.6933 18.18 81.22 18.62 80.7 19.22L80.14 21.74C79.9933 22.4467 79.8533 23.1533 79.72 23.86C79.5867 24.5667 79.4533 25.28 79.32 26L76.9 26.14ZM91.7747 26.3C91.0814 26.3 90.448 26.1667 89.8747 25.9C89.3014 25.62 88.848 25.2067 88.5147 24.66C88.1814 24.1 88.0147 23.3933 88.0147 22.54C88.0147 21.6867 88.1547 20.8733 88.4347 20.1C88.728 19.3267 89.1347 18.64 89.6547 18.04C90.1747 17.4267 90.7814 16.9467 91.4747 16.6C92.168 16.2533 92.9214 16.08 93.7347 16.08C94.4414 16.08 95.068 16.22 95.6147 16.5C96.1747 16.7667 96.6147 17.1733 96.9347 17.72C97.268 18.2667 97.4347 18.9667 97.4347 19.82C97.4347 20.66 97.288 21.4733 96.9947 22.26C96.7147 23.0333 96.3147 23.7267 95.7947 24.34C95.288 24.94 94.688 25.42 93.9947 25.78C93.3147 26.1267 92.5747 26.3 91.7747 26.3ZM92.0147 25.9C92.428 25.9 92.8014 25.7133 93.1347 25.34C93.4814 24.9533 93.7814 24.4467 94.0347 23.82C94.288 23.18 94.4814 22.48 94.6147 21.72C94.748 20.9467 94.8147 20.18 94.8147 19.42C94.8147 18.3133 94.7014 17.5467 94.4747 17.12C94.248 16.6933 93.9547 16.48 93.5947 16.48C93.168 16.48 92.7747 16.6667 92.4147 17.04C92.0547 17.4133 91.7414 17.9133 91.4747 18.54C91.208 19.1667 91.0014 19.86 90.8547 20.62C90.708 21.38 90.6347 22.14 90.6347 22.9C90.6347 24.0333 90.768 24.82 91.0347 25.26C91.3014 25.6867 91.628 25.9 92.0147 25.9ZM101.126 26.18L100.946 26.02C100.813 24.58 100.673 23.24 100.526 22C100.393 20.76 100.253 19.56 100.106 18.4C100.08 18.12 100.02 17.9333 99.9263 17.84C99.8463 17.7467 99.7396 17.7 99.6063 17.7C99.4729 17.7 99.3196 17.76 99.1463 17.88C98.9729 17.9867 98.7929 18.1333 98.6063 18.32L98.3663 18.08C98.8329 17.4133 99.2863 16.9133 99.7263 16.58C100.18 16.2467 100.633 16.08 101.086 16.08C101.593 16.08 101.966 16.22 102.206 16.5C102.46 16.78 102.606 17.2267 102.646 17.84C102.726 18.6933 102.8 19.6467 102.866 20.7C102.946 21.74 103.013 22.7733 103.066 23.8C103.68 22.68 104.293 21.5067 104.906 20.28C105.52 19.04 106.146 17.7733 106.786 16.48H108.006C108.06 16.8667 108.12 17.3867 108.186 18.04C108.253 18.6933 108.313 19.4 108.366 20.16C108.433 20.92 108.5 21.6667 108.566 22.4C108.633 23.12 108.693 23.7467 108.746 24.28C109.213 23.68 109.626 23.1333 109.986 22.64C110.36 22.1467 110.733 21.5933 111.106 20.98C111.32 20.6333 111.46 20.2867 111.526 19.94C111.593 19.5933 111.56 19.2533 111.426 18.92L111.086 18.04C110.886 17.4933 110.906 17.02 111.146 16.62C111.4 16.22 111.746 16.02 112.186 16.02C112.613 16.02 112.926 16.16 113.126 16.44C113.34 16.7067 113.446 17.0533 113.446 17.48C113.446 17.7867 113.373 18.12 113.226 18.48C113.093 18.8267 112.846 19.32 112.486 19.96C111.98 20.8533 111.326 21.8267 110.526 22.88C109.726 23.9333 108.826 24.9867 107.826 26.04L106.646 26.18L106.466 26.02C106.36 24.98 106.253 23.9667 106.146 22.98C106.053 21.9933 105.933 20.9067 105.786 19.72C105.293 20.76 104.746 21.84 104.146 22.96C103.56 24.0667 102.973 25.0933 102.386 26.04L101.126 26.18Z"
              fill="#F9690E"
            />
          </svg>
        </router-link>
      </b-col>
      <b-col cols="1" align-self="center">
        <router-link class="col-login" to="/login">
          <h2 class="login">Login</h2>
        </router-link>
      </b-col>
      <b-col class="no-padd" cols="1" align-self="center">
        <router-link to="/register">
          <h2>Register</h2>
        </router-link>
      </b-col>
    </b-row>

    <!--User logged in-->
    <b-row v-else>
        
        <!-- path = /new-recipe -->
      <b-col cols="9" v-bind:style="isPath? 'margin-right:144px' : ''" align-self="center">
        <router-link to="/">
          <svg
            width="114"
            height="41"
            viewBox="0 0 114 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="20.5" cy="20.5" r="20.5" fill="#B1D8BC" fill-opacity="0.4" />
            <path
              d="M22.28 20.12C24.94 20.06 25.94 18 25.94 15.94C25.94 13.8 24.92 11.72 22.12 11.72H17V25.5H18.34V20.12H20.66L24.46 25.5H26.08L22.28 20.12ZM22.12 13.04C23.96 13.04 24.62 14.48 24.62 15.94C24.62 17.4 23.96 18.8 22.02 18.8H18.34V13.04H22.12ZM32.4383 25.7C34.3383 25.7 35.9183 24.74 36.6983 23.06C36.2783 22.96 35.7583 22.86 35.3583 22.76C34.7783 23.78 33.7183 24.38 32.4383 24.38C30.7183 24.38 29.2983 23.24 29.0783 21.42H36.9983C37.0183 21.24 37.0183 21.02 37.0183 20.8C37.0183 17.84 35.0983 15.96 32.4383 15.96C29.7783 15.96 27.7183 17.84 27.7183 20.8C27.7183 23.76 29.7783 25.7 32.4383 25.7ZM29.0783 20.18C29.3383 18.4 30.6783 17.28 32.4383 17.28C34.1783 17.28 35.3983 18.4 35.6583 20.18H29.0783ZM46.1511 23.48C45.4911 24.08 44.6711 24.38 43.7311 24.38C41.7911 24.38 40.1711 22.96 40.1711 20.8C40.1711 18.64 41.7911 17.28 43.7311 17.28C44.6711 17.28 45.5111 17.6 46.1511 18.16L47.0911 17.22C46.2111 16.42 45.0311 15.96 43.7311 15.96C41.0711 15.96 38.8511 17.84 38.8511 20.8C38.8511 23.76 41.0711 25.7 43.7311 25.7C45.0311 25.7 46.2311 25.24 47.1111 24.42L46.1511 23.48ZM50.8892 16.16H49.5692V25.5H50.8892V16.16ZM49.2292 12.68C49.2292 13.24 49.6892 13.64 50.2492 13.64C50.8092 13.64 51.2692 13.24 51.2692 12.68C51.2692 12.12 50.8092 11.72 50.2492 11.72C49.6892 11.72 49.2292 12.12 49.2292 12.68ZM54.12 30.02H55.46V23.98C56.16 25.18 57.6 25.7 58.98 25.7C61.64 25.7 63.76 23.84 63.76 20.88C63.76 17.92 61.64 15.96 58.98 15.96C57.62 15.96 56.16 16.6 55.46 17.78V16.16H54.12V30.02ZM62.42 20.88C62.42 23.04 60.92 24.36 58.98 24.36C57.3 24.36 55.46 23.18 55.46 20.88C55.46 18.58 57.06 17.3 58.98 17.3C60.92 17.3 62.42 18.8 62.42 20.88ZM70.4461 25.7C72.3461 25.7 73.9261 24.74 74.7061 23.06C74.2861 22.96 73.7661 22.86 73.3661 22.76C72.7861 23.78 71.7261 24.38 70.4461 24.38C68.7261 24.38 67.3061 23.24 67.0861 21.42H75.0061C75.0261 21.24 75.0261 21.02 75.0261 20.8C75.0261 17.84 73.1061 15.96 70.4461 15.96C67.7861 15.96 65.7261 17.84 65.7261 20.8C65.7261 23.76 67.7861 25.7 70.4461 25.7ZM67.0861 20.18C67.3461 18.4 68.6861 17.28 70.4461 17.28C72.1861 17.28 73.4061 18.4 73.6661 20.18H67.0861Z"
              fill="#333333"
            />
            <path
              d="M76.9 26.14L76.72 26L78.26 18.64C78.38 18.12 78.1933 17.7467 77.7 17.52L77.36 17.36L77.38 17.16L81.1 16.06L81.28 16.22L80.82 18.64C81.5133 17.8533 82.22 17.2333 82.94 16.78C83.66 16.3133 84.34 16.08 84.98 16.08C85.4067 16.08 85.76 16.2133 86.04 16.48C86.32 16.7333 86.46 17.1333 86.46 17.68C86.46 17.96 86.4333 18.2533 86.38 18.56C86.3267 18.8533 86.26 19.16 86.18 19.48L85.12 23.74C85.0667 23.9533 85.0267 24.1333 85 24.28C84.9733 24.4133 84.96 24.5333 84.96 24.64C84.96 24.92 85.0733 25.06 85.3 25.06C85.6733 25.06 86.1467 24.76 86.72 24.16L86.92 24.36C86.5867 24.8533 86.1467 25.3 85.6 25.7C85.0533 26.1 84.4467 26.3 83.78 26.3C83.34 26.3 83 26.2 82.76 26C82.52 25.7867 82.4 25.4933 82.4 25.12C82.4 24.84 82.4333 24.5533 82.5 24.26C82.5667 23.9533 82.64 23.64 82.72 23.32L83.5 20.2C83.6067 19.7733 83.6933 19.3933 83.76 19.06C83.8267 18.7267 83.86 18.42 83.86 18.14C83.86 17.9 83.8067 17.7333 83.7 17.64C83.5933 17.5333 83.4467 17.48 83.26 17.48C82.94 17.48 82.56 17.62 82.12 17.9C81.6933 18.18 81.22 18.62 80.7 19.22L80.14 21.74C79.9933 22.4467 79.8533 23.1533 79.72 23.86C79.5867 24.5667 79.4533 25.28 79.32 26L76.9 26.14ZM91.7747 26.3C91.0814 26.3 90.448 26.1667 89.8747 25.9C89.3014 25.62 88.848 25.2067 88.5147 24.66C88.1814 24.1 88.0147 23.3933 88.0147 22.54C88.0147 21.6867 88.1547 20.8733 88.4347 20.1C88.728 19.3267 89.1347 18.64 89.6547 18.04C90.1747 17.4267 90.7814 16.9467 91.4747 16.6C92.168 16.2533 92.9214 16.08 93.7347 16.08C94.4414 16.08 95.068 16.22 95.6147 16.5C96.1747 16.7667 96.6147 17.1733 96.9347 17.72C97.268 18.2667 97.4347 18.9667 97.4347 19.82C97.4347 20.66 97.288 21.4733 96.9947 22.26C96.7147 23.0333 96.3147 23.7267 95.7947 24.34C95.288 24.94 94.688 25.42 93.9947 25.78C93.3147 26.1267 92.5747 26.3 91.7747 26.3ZM92.0147 25.9C92.428 25.9 92.8014 25.7133 93.1347 25.34C93.4814 24.9533 93.7814 24.4467 94.0347 23.82C94.288 23.18 94.4814 22.48 94.6147 21.72C94.748 20.9467 94.8147 20.18 94.8147 19.42C94.8147 18.3133 94.7014 17.5467 94.4747 17.12C94.248 16.6933 93.9547 16.48 93.5947 16.48C93.168 16.48 92.7747 16.6667 92.4147 17.04C92.0547 17.4133 91.7414 17.9133 91.4747 18.54C91.208 19.1667 91.0014 19.86 90.8547 20.62C90.708 21.38 90.6347 22.14 90.6347 22.9C90.6347 24.0333 90.768 24.82 91.0347 25.26C91.3014 25.6867 91.628 25.9 92.0147 25.9ZM101.126 26.18L100.946 26.02C100.813 24.58 100.673 23.24 100.526 22C100.393 20.76 100.253 19.56 100.106 18.4C100.08 18.12 100.02 17.9333 99.9263 17.84C99.8463 17.7467 99.7396 17.7 99.6063 17.7C99.4729 17.7 99.3196 17.76 99.1463 17.88C98.9729 17.9867 98.7929 18.1333 98.6063 18.32L98.3663 18.08C98.8329 17.4133 99.2863 16.9133 99.7263 16.58C100.18 16.2467 100.633 16.08 101.086 16.08C101.593 16.08 101.966 16.22 102.206 16.5C102.46 16.78 102.606 17.2267 102.646 17.84C102.726 18.6933 102.8 19.6467 102.866 20.7C102.946 21.74 103.013 22.7733 103.066 23.8C103.68 22.68 104.293 21.5067 104.906 20.28C105.52 19.04 106.146 17.7733 106.786 16.48H108.006C108.06 16.8667 108.12 17.3867 108.186 18.04C108.253 18.6933 108.313 19.4 108.366 20.16C108.433 20.92 108.5 21.6667 108.566 22.4C108.633 23.12 108.693 23.7467 108.746 24.28C109.213 23.68 109.626 23.1333 109.986 22.64C110.36 22.1467 110.733 21.5933 111.106 20.98C111.32 20.6333 111.46 20.2867 111.526 19.94C111.593 19.5933 111.56 19.2533 111.426 18.92L111.086 18.04C110.886 17.4933 110.906 17.02 111.146 16.62C111.4 16.22 111.746 16.02 112.186 16.02C112.613 16.02 112.926 16.16 113.126 16.44C113.34 16.7067 113.446 17.0533 113.446 17.48C113.446 17.7867 113.373 18.12 113.226 18.48C113.093 18.8267 112.846 19.32 112.486 19.96C111.98 20.8533 111.326 21.8267 110.526 22.88C109.726 23.9333 108.826 24.9867 107.826 26.04L106.646 26.18L106.466 26.02C106.36 24.98 106.253 23.9667 106.146 22.98C106.053 21.9933 105.933 20.9067 105.786 19.72C105.293 20.76 104.746 21.84 104.146 22.96C103.56 24.0667 102.973 25.0933 102.386 26.04L101.126 26.18Z"
              fill="#F9690E"
            />
          </svg>
        </router-link>
      </b-col>

       <!-- path != /new-recipe -->
      <b-col cols="1" v-if="!isPath" align-self="center">
        <router-link class="col-login" to="/recipes">
          <h2>Recipes</h2>
        </router-link>
      </b-col>
      <b-col cols="1" align-self="center">
        <router-link v-if="!isPath" to="/new-recipe">
          <Button>New recipe</Button>
        </router-link>
      </b-col>
      <b-col class="no-padd" cols="1" align-self="center">
        <Dropdown placement="bottom-start">
          <h2>{{ $store.state.user.username }}</h2>
          <img :src="avatar" alt />
          <Icon type="ios-arrow-down"></Icon>

          <DropdownMenu slot="list">
            <DropdownItem>
              <a href="/logout">
                <h3>Logout</h3>
              </a>
            </DropdownItem>
            <DropdownItem>
              <router-link v-bind:to="'/user-recipes/' +this.$store.state.user.id ">
                <h3>My recipes</h3>
              </router-link>
            </DropdownItem> 
          </DropdownMenu>
        </Dropdown>
      </b-col>
    </b-row>
  </b-container>
</template>

<script>
import avatar from "../assets/avatar.png";
export default {
  data() {
    return {
      avatar: avatar
    };
  },
  computed: {
    isPath() {
      return this.$route.name === "new-recipe";
    }
  }
};
</script>

<style lang="scss" scoped>
.row {
  margin-top: 10px;
  height: 100px;
}
.col-10,
.col-9 {
  padding: 0;
}
.col-login {
  h2 {
    float: right;
  }
}
svg {
  margin: 0px 0 0 75px;
}
h2 {
  font-weight: 600;
  font-size: 16px;
  color: #f9690e;
  margin: 0;
  align-self: center;
}
.no-padd {
  padding-right: 0;
}
a {
  text-decoration: none;
  color: #212529;
  &:hover {
    color: #f9690e;
  }
}
button {
  width: auto;
  height: 50px;
  box-shadow: 0px 20px 50px 0px rgba(249, 105, 14, 0.3);
  border-radius: 8px;
  background-color: #f9690e;
  box-shadow: rgba(249, 105, 14, 0.3) 0px 30px 100px -20px,
    rgba(249, 105, 14, 0.3) 0px 30px 60px -30px;
  transition: all 0.3s ease-in-out;
  color: white;
  font-size: 16px;
  font-weight: 700;
  &:hover {
    color: #f9690e;
    border-color: #f9690e;
  }
}
.ivu-dropdown {
  margin-bottom: 25px;
  h2 {
    margin-bottom: 8px;
  }
  h3 {
    font-size: 16px;
    text-align: center;
    margin-bottom: 10px;
  }
  cursor: pointer;
  li {
    margin: 0;
    padding: 0;
    float: left;
    text-align: start;
    &:hover {
      color: #f9690e;
      background-color: transparent;
    }
  }
}
</style>
